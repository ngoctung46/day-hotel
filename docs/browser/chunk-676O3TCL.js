import{a as b}from"./chunk-JWGCYNZ2.js";import{d as x,g as T,k as A,m as D,p as N,q as V,r as I,t as L}from"./chunk-QZCFPOZ3.js";import{Bb as g,Cb as _,Db as f,Ga as a,Qa as C,Va as S,ab as s,c as O,ca as h,gc as B,hc as w,ia as c,ib as e,ja as u,jb as t,kb as M,mc as y,nb as P,pa as v,pb as m,qb as E,yb as o,zb as k}from"./chunk-N2SH4PON.js";var W=class p{productService=h(b);product={type:0};added;constructor(){this.added=new v}addProduct(){this.product.id||this.productService.addItem(this.product).then(()=>{this.product.name="",this.product.price=0,this.added.emit(!0)})}get valid(){return this.product.name?.length>1&&this.product?.price!=0}static \u0275fac=function(i){return new(i||p)};static \u0275cmp=C({type:p,selectors:[["product-edit"]],outputs:{added:"added"},decls:25,vars:4,consts:[[1,"input-group"],[1,"input-group-text","bg-success","text-light"],["type","text","placeholder","Nh\u1EADp t\xEAn","aria-label","T\xEAn",1,"form-control",3,"ngModelChange","ngModel"],[1,"input-group-text","bg-success","text-light",2,"margin-left","16px"],["type","number","placeholder","Nh\u1EADp gi\xE1","aria-label","price",1,"form-control",3,"ngModelChange","ngModel"],["id","product-type","aria-label","product-type",1,"form-select",3,"ngModelChange","ngModel"],["value","0","selected",""],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],[1,"btn-group"],["type","submit",1,"btn","btn-primary",2,"margin-left","16px",3,"click","disabled"]],template:function(i,n){i&1&&(e(0,"div",0)(1,"span",1),o(2,"T\xEAn"),t(),e(3,"input",2),f("ngModelChange",function(r){return _(n.product.name,r)||(n.product.name=r),r}),t(),e(4,"span",3),o(5,"Gi\xE1 ti\u1EC1n"),t(),e(6,"input",4),f("ngModelChange",function(r){return _(n.product.price,r)||(n.product.price=r),r}),t(),e(7,"span",3),o(8,"Lo\u1EA1i"),t(),e(9,"select",5),f("ngModelChange",function(r){return _(n.product.type,r)||(n.product.type=r),r}),e(10,"option",6),o(11,"Th\u1EE9c u\u1ED1ng"),t(),e(12,"option",7),o(13,"Th\u1EE9c \u0103n"),t(),e(14,"option",8),o(15,"D\u1ECBch v\u1EE5 ph\xF2ng"),t(),e(16,"option",9),o(17,"Gi\xE1 gi\u1EDD"),t(),e(18,"option",10),o(19,"Ph\u1EE5 thu"),t(),e(20,"option",11),o(21,"Gi\u1EA3m gi\xE1"),t()(),e(22,"div",12)(23,"button",13),m("click",function(){return n.addProduct()}),o(24," Th\xEAm "),t()()()),i&2&&(a(3),g("ngModel",n.product.name),a(3),g("ngModel",n.product.price),a(3),g("ngModel",n.product.type),a(14),s("disabled",!n.valid))},dependencies:[L,V,I,x,D,N,T,A,y],encapsulation:2})};function q(p,l){if(p&1){let i=P();e(0,"tr")(1,"th",7),o(2),t(),e(3,"td",7)(4,"input",8),f("ngModelChange",function(d){let r=c(i).$implicit;return _(r.name,d)||(r.name=d),u(d)}),t()(),e(5,"td",7)(6,"input",9),f("ngModelChange",function(d){let r=c(i).$implicit;return _(r.price,d)||(r.price=d),u(d)}),t()(),e(7,"td",7)(8,"select",10),f("ngModelChange",function(d){let r=c(i).$implicit;return _(r.type,d)||(r.type=d),u(d)}),e(9,"option",11),o(10,"Th\u1EE9c u\u1ED1ng"),t(),e(11,"option",12),o(12,"Th\u1EE9c \u0103n"),t(),e(13,"option",13),o(14,"D\u1ECBch v\u1EE5 ph\xF2ng"),t(),e(15,"option",14),o(16,"Gi\xE1 gi\u1EDD"),t(),e(17,"option",15),o(18,"Ph\u1EE5 thu"),t(),e(19,"option",16),o(20,"Gi\u1EA3m gi\xE1"),t()()(),e(21,"td",7)(22,"div",17)(23,"button",18),m("click",function(){let d=c(i).$implicit,r=E(2);return u(r.updateProductAsync(d))}),t(),e(24,"button",19),m("click",function(){let d=c(i).$implicit,r=E(2);return u(r.deleteProductAsync(d))}),t()()()()}if(p&2){let i=l.$implicit,n=l.index;a(2),k(n+1),a(2),g("ngModel",i.name),a(2),g("ngModel",i.price),a(2),g("ngModel",i.type)}}function z(p,l){if(p&1&&(e(0,"table",2)(1,"thead")(2,"tr",3)(3,"th",4),o(4,"#"),t(),e(5,"th",4),o(6,"T\xEAn"),t(),e(7,"th",4),o(8,"Gi\xE1"),t(),e(9,"th",4),o(10,"Lo\u1EA1i"),t(),M(11,"th"),t()(),e(12,"tbody",5),S(13,q,25,4,"tr",6),t()()),p&2){let i=E();a(13),s("ngForOf",i.products)}}var F=class p{productService=h(b);products=[];edited;constructor(){this.edited=new v}ngOnInit(){}deleteProductAsync(l){return O(this,null,function*(){l.id!=null&&(yield this.productService.deleteItem(l.id).then(()=>this.edited.emit(!0)))})}updateProductAsync(l){return O(this,null,function*(){l.id!=null&&(yield this.productService.updateItem(l).then(()=>this.edited.emit(!0)))})}static \u0275fac=function(i){return new(i||p)};static \u0275cmp=C({type:p,selectors:[["product-list"]],inputs:{products:"products"},outputs:{edited:"edited"},decls:2,vars:1,consts:[[1,"table-responsive","d-flex","justify-content-center"],["class","table table-bordered w-auto rounded-2",4,"ngIf"],[1,"table","table-bordered","w-auto","rounded-2"],[1,"table-primary"],["scope","col"],[1,"table-group-divider"],[4,"ngFor","ngForOf"],["scope","row"],["type","text","placeholder","name","aria-label","name","aria-describedby","name-description",1,"form-control",3,"ngModelChange","ngModel"],["type","number","placeholder","price","aria-label","price","aria-describedby","price-description",1,"form-control",3,"ngModelChange","ngModel"],["id","product-type","aria-label","product-type",1,"form-select",3,"ngModelChange","ngModel"],["value","0","selected",""],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],[1,"input-group"],[1,"btn","btn-outline-warning","bi","bi-floppy-fill",3,"click"],[1,"btn","btn-danger","bi","bi-trash-fill",3,"click"]],template:function(i,n){i&1&&(e(0,"div",0),S(1,z,14,1,"table",1),t()),i&2&&(a(),s("ngIf",n.products))},dependencies:[y,B,w,L,V,I,x,D,N,T,A],encapsulation:2})};function H(p,l){if(p&1){let i=P();e(0,"product-list",3),m("edited",function(){c(i);let d=E();return u(d.loadProducts())}),t()}if(p&2){let i=E();s("products",i.products)}}var U=class p{productServicer=h(b);products=[];constructor(){this.getProducts()}getProducts(){this.productServicer.getItems().then(l=>this.products=l.sort((i,n)=>i?.name.toUpperCase()>n?.name.toUpperCase()?1:i?.name.toUpperCase()<n?.name.toUpperCase()?-1:0))}loadProducts(){this.getProducts()}static \u0275fac=function(i){return new(i||p)};static \u0275cmp=C({type:p,selectors:[["app-products"]],decls:5,vars:1,consts:[[1,"text-center"],[3,"added"],[3,"products","edited",4,"ngIf"],[3,"edited","products"]],template:function(i,n){i&1&&(e(0,"h1",0),o(1,"Qu\u1EA3n l\xFD h\xE0ng h\xF3a, d\u1ECBch v\u1EE5, ph\u1EE5 thu"),t(),e(2,"product-edit",1),m("added",function(){return n.loadProducts()}),t(),M(3,"br"),S(4,H,1,1,"product-list",2)),i&2&&(a(4),s("ngIf",n.products.length>0))},dependencies:[W,F,y,w],encapsulation:2})};export{U as ProductsComponent};
