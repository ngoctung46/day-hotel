import{d as Ut,e as $t,h as Gt}from"./chunk-HODHY5GA.js";import{a as ae}from"./chunk-JWGCYNZ2.js";import{f as oe}from"./chunk-4YUIU3BO.js";import{a as z,b as ie}from"./chunk-4RXUG7LP.js";import{g as Qt,h as Kt,j as Yt,k as Zt,l as qt,p as Xt,q as Jt,r as te,t as ee}from"./chunk-QZCFPOZ3.js";import{Bb as Ft,Cb as Ot,Db as Nt,F as wt,Ga as s,Gb as B,H as Ct,Hb as zt,Ib as Lt,Jb as j,Kb as V,Mb as Pt,Q as xt,Qa as h,R as Dt,Ra as r,T as Rt,Ta as U,Va as y,Xb as Bt,Y as C,Z as a,ab as p,ca as m,cb as M,eb as Et,f as gt,fc as jt,gb as Tt,gc as Vt,hb as It,hc as O,i as vt,ia as v,ib as c,ja as _,jb as n,jc as Ht,kb as x,lb as $,mb as G,mc as N,nb as E,pa as W,pb as D,pc as Wt,q as tt,qa as et,qb as b,r as _t,u as yt,ua as kt,xb as At,ya as St,yb as g,za as Mt,zb as F}from"./chunk-N2SH4PON.js";var ot;try{ot=typeof Intl<"u"&&Intl.v8BreakIterator}catch{ot=!1}var Q=(()=>{class t{_platformId=m(St);isBrowser=this._platformId?Wt(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||ot)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(o){return new(o||t)};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function it(t){return Array.isArray(t)?t:[t]}var re=new Set,T,Ce=(()=>{class t{_platform=m(Q);_nonce=m(Mt,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):De}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&xe(e,this._nonce),this._matchMedia(e)}static \u0275fac=function(o){return new(o||t)};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function xe(t,i){if(!re.has(t))try{T||(T=document.createElement("style"),i&&T.setAttribute("nonce",i),T.setAttribute("type","text/css"),document.head.appendChild(T)),T.sheet&&(T.sheet.insertRule(`@media ${t} {body{ }}`,0),re.add(t))}catch(e){console.error(e)}}function De(t){return{matches:t==="all"||t==="",media:t,addListener:()=>{},removeListener:()=>{}}}var se=(()=>{class t{_mediaMatcher=m(Ce);_zone=m(et);_queries=new Map;_destroySubject=new vt;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return ne(it(e)).some(d=>this._registerQuery(d).mql.matches)}observe(e){let d=ne(it(e)).map(w=>this._registerQuery(w).observable),f=_t(d);return f=yt(f.pipe(Ct(1)),f.pipe(xt(1),wt(0))),f.pipe(tt(w=>{let S={matches:!1,breakpoints:{}};return w.forEach(({matches:H,query:we})=>{S.matches=S.matches||H,S.breakpoints[we]=H}),S}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);let o=this._mediaMatcher.matchMedia(e),f={observable:new gt(w=>{let S=H=>this._zone.run(()=>w.next(H));return o.addListener(S),()=>{o.removeListener(S)}}).pipe(Dt(o),tt(({matches:w})=>({query:e,matches:w})),Rt(this._destroySubject)),mql:o};return this._queries.set(e,f),f}static \u0275fac=function(o){return new(o||t)};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ne(t){return t.map(i=>i.split(",")).reduce((i,e)=>i.concat(e)).map(i=>i.trim())}var R=function(t){return t[t.NONE=0]="NONE",t[t.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",t[t.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",t}(R||{}),ce="cdk-high-contrast-black-on-white",de="cdk-high-contrast-white-on-black",at="cdk-high-contrast-active",rt=(()=>{class t{_platform=m(Q);_hasCheckedHighContrastMode;_document=m(Bt);_breakpointSubscription;constructor(){this._breakpointSubscription=m(se).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return R.NONE;let e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);let o=this._document.defaultView||window,d=o&&o.getComputedStyle?o.getComputedStyle(e):null,f=(d&&d.backgroundColor||"").replace(/ /g,"");switch(e.remove(),f){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return R.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return R.BLACK_ON_WHITE}return R.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let e=this._document.body.classList;e.remove(at,ce,de),this._hasCheckedHighContrastMode=!0;let o=this.getHighContrastMode();o===R.BLACK_ON_WHITE?e.add(at,ce):o===R.WHITE_ON_BLACK&&e.add(at,de)}}static \u0275fac=function(o){return new(o||t)};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var L=(()=>{class t{static \u0275fac=function(o){return new(o||t)};static \u0275mod=r({type:t});static \u0275inj=a({})}return t})();var l=(()=>{class t{constructor(){m(rt)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(o){return new(o||t)};static \u0275mod=r({type:t});static \u0275inj=a({imports:[L,L]})}return t})();var me=(()=>{class t{static \u0275fac=function(o){return new(o||t)};static \u0275mod=r({type:t});static \u0275inj=a({imports:[l,l]})}return t})();var ct=(()=>{class t{static \u0275fac=function(o){return new(o||t)};static \u0275mod=r({type:t});static \u0275inj=a({imports:[l,me,l]})}return t})();var mt=(()=>{class t{static \u0275fac=function(o){return new(o||t)};static \u0275mod=r({type:t});static \u0275inj=a({imports:[l,l]})}return t})();var ut=(()=>{class t{static \u0275fac=function(o){return new(o||t)};static \u0275mod=r({type:t});static \u0275inj=a({imports:[l,l]})}return t})();var ft=(()=>{class t{static \u0275fac=function(o){return new(o||t)};static \u0275mod=r({type:t});static \u0275inj=a({imports:[l,l]})}return t})();var pt=(()=>{class t{static \u0275fac=function(o){return new(o||t)};static \u0275mod=r({type:t});static \u0275inj=a({imports:[ft,l,ft,l]})}return t})();var fe=(()=>{class t{static \u0275fac=function(o){return new(o||t)};static \u0275mod=r({type:t});static \u0275inj=a({})}return t})(),he=(()=>{class t{static \u0275fac=function(o){return new(o||t)};static \u0275mod=r({type:t});static \u0275inj=a({imports:[L,fe,L,fe]})}return t})();var be=(()=>{class t{static \u0275fac=function(o){return new(o||t)};static \u0275mod=r({type:t});static \u0275inj=a({imports:[he]})}return t})();var ht=(()=>{class t{static \u0275fac=function(o){return new(o||t)};static \u0275mod=r({type:t});static \u0275inj=a({imports:[l,be,l]})}return t})();var bt=(()=>{class t{static \u0275fac=function(o){return new(o||t)};static \u0275mod=r({type:t});static \u0275inj=a({imports:[l,l]})}return t})();var Y=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=r({type:t});static \u0275inj=a({imports:[ct,mt,ut,pt,ht,bt,ct,mt,ut,pt,ht,bt]})};var Z=class t{transform(i){switch(i){case 0:return"Ph\xF2ng tr\u1ED1ng";case 1:return"\u0110\xE3 nh\u1EADn ph\xF2ng";case 3:return"C\u1EA7n d\u1ECDn ph\xF2ng (Kh\xE1ch \u0111ang \u1EDF)";case 4:return"C\u1EA7n d\u1ECDn ph\xF2ng (Ph\xF2ng tr\u1ED1ng)";case 5:return"C\xF3 kh\xE1ch \u0111\u1EB7t";case 2:return"Kh\xE1ch \u0111i ra ngo\xE0i";case 6:return"\u0110ang b\u1EA3o tr\xEC";default:return"Kh\xF4ng x\xE1c \u0111\u1ECBnh"}}static \u0275fac=function(e){return new(e||t)};static \u0275pipe=U({name:"RoomStatus",type:t,pure:!0})};var q=class t{transform(i){switch(i){case 0:return"Ph\xF2ng th\u01B0\u1EDDng".toUpperCase();case 1:return"Ph\xF2ng Deluxe".toUpperCase();case 2:return"Ph\xF2ng VIP".toUpperCase();default:return"Kh\xF4ng x\xE1c \u0111\u1ECBnh".toUpperCase()}}static \u0275fac=function(e){return new(e||t)};static \u0275pipe=U({name:"RoomType",type:t,pure:!0})};var Ie=(t,i,e)=>({"bg-light":t,"occupied-room":i,"bg-warning":e}),Ae=(t,i)=>({"bg-success":t,"bg-light":i}),Fe=t=>["/customer/room/",t],Oe=t=>["/customer",t],Ne=t=>({"w-100":t}),ze=t=>["/orders",t];function Le(t,i){if(t&1&&x(0,"button",8),t&2){let e=b();p("routerLink",B(1,Fe,e.room.id))}}function Pe(t,i){if(t&1){let e=E();c(0,"div",9)(1,"button",10),D("click",function(){v(e);let d=b();return _(d.changeRoom.emit(d.room))}),n(),x(2,"button",11),c(3,"button",12),D("click",function(){v(e);let d=b();return _(d.updateCleaningStatus())}),n(),x(4,"button",13),n()}if(t&2){let e=b();s(),p("hidden",e.room.status==4),s(),p("hidden",e.room.status==4)("routerLink",B(7,Oe,e.room.customerId)),s(),M(B(9,Ne,e.room.status==4)),s(),p("hidden",e.room.status==4)("routerLink",B(11,ze,e.room.orderId))}}var X=class t{room={};changeRoom=new W;roomService=m(z);rooms=[];constructor(){}ngOnInit(){}updateCleaningStatus(){switch(this.room.status){case 1:this.room.status=3,this.roomService.updateItem(this.room);break;case 3:this.room.status=1,this.roomService.updateItem(this.room);break;case 4:this.room.status=0,this.roomService.updateItem(this.room);break}}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=h({type:t,selectors:[["home-room"]],inputs:{room:"room"},outputs:{changeRoom:"changeRoom"},decls:16,vars:21,consts:[[1,"card","text-center",2,"margin","8px"],[1,"card-header","bg-primary","text-light"],[1,"card-body"],[1,"card-title"],[1,"card-text",3,"ngClass"],[1,"card-footer",2,"padding","0px"],["tooltip","Nh\u1EADn Ph\xF2ng","class","btn btn-primary btn-lg bi bi-box-arrow-in-right w-100",3,"routerLink",4,"ngIf"],["class","btn-group w-100 bg-danger","role","group",4,"ngIf"],["tooltip","Nh\u1EADn Ph\xF2ng",1,"btn","btn-primary","btn-lg","bi","bi-box-arrow-in-right","w-100",3,"routerLink"],["role","group",1,"btn-group","w-100","bg-danger"],["tooltip","\u0110\u1ED5i ph\xF2ng",1,"btn","btn-success","btn-lg","bi","bi-arrow-left-right",3,"click","hidden"],["tooltip","Th\xF4ng tin kh\xE1ch l\u01B0u tr\xFA","type","button",1,"btn","btn-primary","btn-lg","bi","bi-person-badge-fill",3,"hidden","routerLink"],["type","button","tooltip","Ph\xF2ng d\u01A1",1,"btn","btn-danger","bi","bi-stars",3,"click"],["type","button","tooltip","Check out","routerLinkActive","router-link-active",1,"btn","btn-warning","btn-lg","bi","bi-cart-check-fill",3,"hidden","routerLink"]],template:function(e,o){e&1&&(c(0,"div",0)(1,"div",1)(2,"b"),g(3),j(4,"RoomType"),n()(),c(5,"div",2)(6,"h1",3),g(7),n(),c(8,"p",4)(9,"span")(10,"b"),g(11),j(12,"RoomStatus"),n()()()(),c(13,"div",5),y(14,Le,1,3,"button",6)(15,Pe,5,13,"div",7),n()()),e&2&&(s(3),F(V(4,10,o.room.type)),s(2),M(Lt(14,Ie,o.room.status==0,o.room.status==1,o.room.status==3||o.room.status==4)),s(2),F(o.room.number),s(),p("ngClass",o.room.status==1?"text-light":"text-success"),s(3),F(V(12,12,o.room.status)),s(2),M(zt(18,Ae,o.room.status==0,o.room.status==1)),s(),p("ngIf",o.room.status==0),s(),p("ngIf",o.room.status!==0))},dependencies:[N,jt,O,Y,Gt,Ut,$t,Z,q],styles:[".occupied-room[_ngcontent-%COMP%]{background-color:#dd8080}"]})};function Be(t,i){t&1&&x(0,"div",6)}function je(t,i){if(t&1){let e=E();$(0),c(1,"div",3)(2,"home-room",4),D("changeRoom",function(){let d=v(e).$implicit,f=b(),w=At(3);return f.setRoom(d),_(f.openModal(w))}),n()(),y(3,Be,1,0,"div",5),G()}if(t&2){let e=i.$implicit,o=i.index;s(2),p("room",e),s(),p("ngIf",(o+1)%3===0)}}function Ve(t,i){if(t&1&&(c(0,"option",14),g(1),n()),t&2){let e=i.$implicit;p("ngValue",e),s(),F(e.number)}}function He(t,i){if(t&1){let e=E();c(0,"div",7)(1,"h6",8),g(2,"Chuy\u1EC3n ph\xF2ng"),n(),c(3,"button",9),D("click",function(){let d=v(e).$implicit;return _(d.close())}),n()(),c(4,"div",10)(5,"form")(6,"div",11)(7,"label",12),g(8,"Ch\u1ECDn ph\xF2ng mu\u1ED1n chuy\u1EC3n"),n(),c(9,"select",13),Nt("ngModelChange",function(d){v(e);let f=b();return Ot(f.changedRoom,d)||(f.changedRoom=d),_(d)}),Tt(10,Ve,2,2,"option",14,Et),n()()()(),c(12,"div",15)(13,"button",16),D("click",function(){let d=v(e).$implicit;return b().changeRoom(),_(d.close())}),n()()}if(t&2){let e=b();s(9),Ft("ngModel",e.changedRoom),s(),It(e.availableRooms)}}var J=class t{rooms=[];changed=new W;roomService=m(z);orderService=m(ie);modalService=m(oe);closeResult=kt("");changedRoom={};changingRoom={};changeRoom(){this.changedRoom.orderId=this.changingRoom.orderId,this.changedRoom.customerId=this.changingRoom.customerId,this.changedRoom.status=this.changingRoom.status,this.roomService.updateItem(this.changedRoom).then(),this.updateOrderAsync(this.changingRoom.orderId,this.changedRoom.id),this.changingRoom.orderId="",this.changingRoom.customerId="",this.changingRoom.status=0,this.roomService.updateItem(this.changingRoom).then(),this.changed.emit(!0)}updateOrderAsync(i,e){this.orderService.updateItem({id:i,roomId:e}).then()}get availableRooms(){return this.rooms.filter(i=>i.status==0)}openModal(i){this.modalService.open(i)}setRoom(i){this.changingRoom=i}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=h({type:t,selectors:[["home-rooms"]],inputs:{rooms:"rooms"},outputs:{changed:"changed"},decls:5,vars:1,consts:[["content",""],[1,"row"],[4,"ngFor","ngForOf"],[1,"col-4"],[3,"changeRoom","room"],["class","w-100",4,"ngIf"],[1,"w-100"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title","text-danger"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mb-3"],["for","room-number"],["name","rooms","id","room-number","aria-label","room-number",1,"form-select",3,"ngModelChange","ngModel"],[3,"ngValue"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-primary","bi","bi-floppy-fill",3,"click"]],template:function(e,o){e&1&&(c(0,"div",1),y(1,je,4,2,"ng-container",2),n(),y(2,He,14,1,"ng-template",null,0,Pt),x(4,"hr")),e&2&&(s(),p("ngForOf",o.rooms))},dependencies:[X,N,Vt,O,ee,qt,Jt,te,Xt,Qt,Kt,Zt,Yt],encapsulation:2})};function We(t,i){if(t&1){let e=E();c(0,"home-rooms",2),D("changed",function(){v(e);let d=b();return _(d.getRooms())}),n()}if(t&2){let e=i.ngIf;p("rooms",e)}}var ye=class t{rooms=[];roomService=m(z);productService=m(ae);rooms$=this.roomService.getItems().then(i=>i.sort((e,o)=>e.number-o.number));constructor(){}getRooms(){this.roomService.getItems().then(i=>i.sort((e,o)=>e.number-o.number))}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=h({type:t,selectors:[["app-home"]],decls:4,vars:3,consts:[[1,"text-danger","text-center","text-danger"],[3,"rooms","changed",4,"ngIf"],[3,"changed","rooms"]],template:function(e,o){e&1&&(c(0,"h1",0),g(1,"QU\u1EA2N L\xDD PH\xD2NG"),n(),y(2,We,1,1,"home-rooms",1),j(3,"async")),e&2&&(s(2),p("ngIf",V(3,1,o.rooms$)))},dependencies:[J,N,O,Ht],encapsulation:2})};export{ye as HomeComponent};
